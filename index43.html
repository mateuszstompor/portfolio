<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Portfolio – Minimal Gallery</title>
  <style>
    :root{
      --bg:#0f1115; --card:#0f1317; --muted:#9aa3ad; --accent:#9fb7ff;
      --gap:14px; --radius:12px; --max-width:1100px;
      font-family: Inter, Roboto, system-ui, -apple-system, "Segoe UI", "Helvetica Neue", Arial;
    }
    html,body{margin:0;height:100%;background:var(--bg);color:#e6eef8;scroll-behavior:smooth;}
    a{color:var(--accent); text-decoration:none;}
    a:hover{color:#fff;}

    /* Sticky navbar */
    header.main-header{
      position: sticky;
      top: 0;
      z-index: 100;
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:20px 40px;
      background:rgba(15,17,21,0.95);
      backdrop-filter: blur(10px);
      border-bottom:1px solid rgba(255,255,255,0.05);
    }
    header.main-header h1{margin:0;font-size:20px;}
    nav a{margin-left:20px;font-size:14px;color:var(--muted);}
    nav a:hover{color:var(--accent);}

    /* Sections */
    section{
      position: relative;
      min-height:100vh;
      display:flex;
      flex-direction:column;
      justify-content:center;
      align-items:center;
      text-align:center;
      padding:80px 20px;
    }
    section h2{color:#fff;margin-bottom:20px;font-size:32px;}
    section p{color:var(--muted);line-height:1.6;font-size:16px;max-width:700px;}

    /* Parallax effect */
    .parallax{
      background-attachment: fixed;
      background-position: center;
      background-repeat: no-repeat;
      background-size: cover;
    }

    /* Hero Section */
    .hero{background-image: url('https://picsum.photos/id/1015/1920/1080');}
    
    /* About Section */
    #about{background-color:#0f1115;}

    /* Projects Section */
    #projects{background-image: url('https://picsum.photos/id/1036/1920/1080');}

    /* Contact Section */
    #contact{background-color:#0f1115;}

    /* Gallery styles with glass and blur */
    .wrap{width:100%; max-width:var(--max-width); margin:auto;}
    .grid{
      display:flex;
      gap:var(--gap);
      overflow-x:auto;
      scroll-snap-type:x mandatory;
      padding-bottom:8px;
    }
    .grid::-webkit-scrollbar{height:6px;}
    .grid::-webkit-scrollbar-thumb{
      background:rgba(255,255,255,0.08);
      border-radius:3px;
    }
    .card {
      flex: 0 0 auto;
      width: 220px;
      background: rgba(15, 19, 23, 0.45);
      backdrop-filter: blur(var(--blur, 8px));
      border-radius: var(--radius);
      overflow: hidden;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      scroll-snap-align: start;
      box-shadow: 0 8px 32px rgba(0,0,0,0.25);
      border: 1px solid rgba(255,255,255,0.08);
      transition: transform 0.3s ease, box-shadow 0.3s ease, backdrop-filter 0.2s ease;
    }
    .card:hover {
      transform: scale(1.04);
      box-shadow: 0 12px 40px rgba(0,0,0,0.35);
    }
    .thumb {
      display: block;
      width: 100%;
      height: 0;
      padding-bottom: 66%;
      background-size: cover;
      background-position: center;
      transition: transform 0.35s ease, filter 0.35s ease;
      border-bottom: 1px solid rgba(255,255,255,0.05);
      border-radius: var(--radius) var(--radius) 0 0;
      backdrop-filter: blur(calc(var(--blur, 8px)/1.5));
    }
    .thumb.no-image {
      background: rgba(24,26,31,0.5);
      backdrop-filter: blur(6px);
      display: flex;
      align-items: center;
      justify-content: center;
      color: #aaa;
      font-size: 12px;
      letter-spacing: 0.4px;
    }
    .meta{padding:12px 14px}
    .title{font-size:14px;margin:0 0 6px 0;color:#fff}
    .desc{margin:0;color:var(--muted);font-size:12px;line-height:1.3}

    /* Modal / Lightbox */
    .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;padding:28px;z-index:60}
    .modal.show{display:flex}
    .backdrop{position:absolute;inset:0;background:rgba(3,6,10,0.7);backdrop-filter:blur(6px)}
    .viewer{position:relative;z-index:2;max-width:100%;width:100%;max-height:90vh;background:var(--card);border-radius:14px;box-shadow:0 8px 30px rgba(2,6,20,0.7);overflow:hidden;display:grid;grid-template-columns:1fr 360px}
    .viewer .imgwrap{min-width:0;background:#000;display:flex;align-items:center;justify-content:center}
    .viewer img{max-width:100%;max-height:90vh;object-fit:contain;display:block}
    .panel{padding:18px 16px;color:var(--muted);font-size:14px}
    .panel h2{margin:0 0 8px 0;color:#fff;font-size:16px}
    .panel p{margin:0 0 12px 0}
    .controls{display:flex;gap:8px;align-items:center}
    .btn{background:none;border:1px solid rgba(255,255,255,0.06);padding:8px 10px;border-radius:8px;color:var(--muted);font-size:13px;cursor:pointer}
    .btn:focus{outline:2px solid rgba(159,183,255,0.18)}
    .arrow{position:absolute;top:50%;transform:translateY(-50%);width:44px;height:44px;border-radius:50%;display:flex;align-items:center;justify-content:center;z-index:3;background:rgba(0,0,0,0.35);backdrop-filter:blur(4px);cursor:pointer}
    .arrow.left{left:18px}
    .arrow.right{right:18px}
    .arrow svg{width:18px;height:18px;opacity:0.9}

    @media (max-width:880px){
      .viewer{grid-template-columns:1fr;}
      .panel{padding:12px}
    }
  </style>
</head>
<body>

  <!-- Sticky Navbar -->
  <header class="main-header">
    <h1>Portfolio</h1>
    <nav>
      <a href="#hero">Home</a>
      <a href="#about">About</a>
      <a href="#projects">Projects</a>
      <a href="#gallery">Gallery</a>
      <a href="#contact">Contact</a>
    </nav>
  </header>

  <!-- Hero Section -->
  <section class="hero parallax" id="hero">
    <h2>Welcome to My Portfolio</h2>
    <p>Showcasing projects, artwork, and photography in a clean, minimal design.</p>
  </section>

  <!-- About Section -->
  <section id="about">
    <h2>About Me</h2>
    <p>Hi! I’m a developer and designer passionate about creating interactive web experiences.</p>
    <p>I specialize in building web applications, galleries, and portfolio websites with modern design patterns.</p>
  </section>

  <!-- Projects Section -->
  <section id="projects" class="parallax">
    <h2>Projects</h2>
    <p>Here are a few projects I’ve worked on recently. Each demonstrates different skills, from UI design to interactive JavaScript applications.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed sit amet lorem ut turpis cursus sollicitudin.</p>
  </section>

  <!-- Gallery Section -->
  <section id="gallery">
    <h2>Gallery</h2>
    <div class="wrap" id="app">
      <main>
        <div class="grid" id="grid"></div>
      </main>
    </div>
  </section>

  <!-- Contact Section -->
  <section id="contact">
    <h2>Contact Me</h2>
    <p>Interested in working together? Reach out via email: <a href="mailto:info@example.com">info@example.com</a></p>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum lacinia est at nulla facilisis, sit amet tristique neque tincidunt.</p>
  </section>

  <!-- Modal / Lightbox -->
  <div class="modal" id="modal" aria-hidden="true">
    <div class="backdrop" id="backdrop"></div>
    <div class="arrow left" id="prevBtn" title="Previous" aria-hidden="true">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 18l-6-6 6-6"/></svg>
    </div>
    <div class="arrow right" id="nextBtn" title="Next" aria-hidden="true">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 6l6 6-6 6"/></svg>
    </div>
    <div class="viewer" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div class="imgwrap" id="imgwrap">
        <img id="modalImg" alt="" loading="lazy">
      </div>
      <aside class="panel">
        <h2 id="modalTitle">Title</h2>
        <p id="modalDesc">Description</p>
        <div class="controls">
          <button class="btn" id="closeBtn">Close (Esc)</button>
          <button class="btn" id="downloadBtn">Download</button>
        </div>
      </aside>
    </div>
  </div>

  <script>
    const galleryData = [
      {id:1, src:'https://picsum.photos/id/1018/1600/1000', thumb:'https://picsum.photos/id/1018/800/500', title:'Cliff at Sunset', description:'A calm sea and warm sunset behind rocky cliffs.'},
      {id:2, src:'https://picsum.photos/id/1025/1600/1000', thumb:'https://picsum.photos/id/1025/800/500', title:'Majestic Horse', description:'Portrait of a horse in natural light.'},
      {id:3, src:'', thumb:'', title:'Foggy Pines', description:'Pine trees hidden in the morning fog (no image).'},
      {id:4, src:'https://picsum.photos/id/1043/1600/1000', thumb:'https://picsum.photos/id/1043/800/500', title:'Desert Road', description:'Lonely road crossing an endless desert plain.'},
      {id:5, src:'https://picsum.photos/id/1059/1600/1000', thumb:'https://picsum.photos/id/1059/800/500', title:'City at Night', description:'City lights reflected in a wet street.'},
      {id:6, src:'https://picsum.photos/id/1062/1600/1000', thumb:'https://picsum.photos/id/1062/800/500', title:'Golden Valley', description:'Soft light over the hills at sunrise.'},
      {id:7, src:'https://picsum.photos/id/1070/1600/1000', thumb:'https://picsum.photos/id/1070/800/500', title:'Ocean View', description:'Waves breaking on a sunny coast.'}
    ];

    const grid = document.getElementById('grid');
    const modal = document.getElementById('modal');
    const modalImg = document.getElementById('modalImg');
    const modalTitle = document.getElementById('modalTitle');
    const modalDesc = document.getElementById('modalDesc');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const closeBtn = document.getElementById('closeBtn');
    const downloadBtn = document.getElementById('downloadBtn');
    const backdrop = document.getElementById('backdrop');

    let currentIndex = 0;

    function renderGrid(){
      grid.innerHTML = '';
      galleryData.forEach((item, i)=>{
        const card = document.createElement('article');
        card.className = 'card';
        card.tabIndex = 0;
        card.setAttribute('role','button');
        card.setAttribute('aria-label', item.title + ' — ' + item.description);

        const thumb = document.createElement('div');
        thumb.className = 'thumb';
        if (item.thumb) {
          thumb.style.backgroundImage = `url(${item.thumb})`;
        } else {
          thumb.classList.add('no-image');
          thumb.textContent = 'No Image';
        }

        const meta = document.createElement('div');
        meta.className = 'meta';
        meta.innerHTML = `<h3 class="title">${escapeHtml(item.title)}</h3><p class="desc">${escapeHtml(item.description)}</p>`;

        card.appendChild(thumb);
        card.appendChild(meta);

        card.addEventListener('click', ()=>openModal(i));
        card.addEventListener('keydown', (e)=>{ if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); openModal(i); } });

        grid.appendChild(card);
      });
    }

    function openModal(index){
      currentIndex = index;
      const item = galleryData[currentIndex];
      if (!item.src) return;
      modalImg.src = item.src;
      modalImg.alt = item.title;
      modalTitle.textContent = item.title;
      modalDesc.textContent = item.description;
      downloadBtn.onclick = ()=>downloadImage(item.src, item.title.replace(/\s+/g,'_') + '.jpg');

      modal.classList.add('show');
      modal.setAttribute('aria-hidden','false');
      document.body.style.overflow = 'hidden';
    }

    function closeModal(){
      modal.classList.remove('show');
      modal.setAttribute('aria-hidden','true');
      document.body.style.overflow = '';
      modalImg.src = '';
    }

    function showNext(delta=1){
      currentIndex = (currentIndex + delta + galleryData.length) % galleryData.length;
      openModal(currentIndex);
    }

    function downloadImage(url, filename){
      fetch(url).then(r=>r.blob()).then(blob=>{
        const link = document.createElement('a');
        link.href = URL.createObjectURL(blob);
        link.download = filename;
        document.body.appendChild(link);
        link.click();
        link.remove();
      }).catch(()=>{ alert('Download failed'); });
    }

    function escapeHtml(s){ return String(s).replace(/[&"'<>]/g, c=>({ '&':'&amp;','"':'&quot;',"'":"&#39;",'<':'&lt;','>':'&gt;' })[c]); }

    prevBtn.addEventListener('click', ()=>showNext(-1));
    nextBtn.addEventListener('click', ()=>showNext(1));
    closeBtn.addEventListener('click', closeModal);
    backdrop.addEventListener('click', closeModal);

    window.addEventListener('keydown', (e)=>{
      if(modal.classList.contains('show')){
        if(e.key === 'ArrowRight') showNext(1);
        if(e.key === 'ArrowLeft') showNext(-1);
        if(e.key === 'Escape') closeModal();
      }
    });

    renderGrid();

    // Progressive blur on scroll
    window.addEventListener('scroll', () => {
      const scrollTop = window.scrollY;
      const maxBlur = 20;
      const scrollHeight = document.body.scrollHeight - window.innerHeight;
      const blurValue = Math.min(maxBlur, (scrollTop / scrollHeight) * maxBlur);

      document.querySelectorAll('.card').forEach(card => {
        card.style.setProperty('--blur', `${blurValue}px`);
      });

      document.querySelectorAll('.thumb').forEach(thumb => {
        thumb.style.setProperty('--blur', `${blurValue / 1.5}px`);
      });
    });
  </script>

</body>
</html>
