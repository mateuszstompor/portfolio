<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Minimal Gallery</title>
  <style>
    :root{
      --bg:#0f1115; --card:#0f1317; --muted:#9aa3ad; --accent:#9fb7ff;
      --gap:14px; --radius:12px; --max-width:1100px;
      font-family: Inter, Roboto, system-ui, -apple-system, "Segoe UI", "Helvetica Neue", Arial;
    }
    html,body{height:100%;}
    body{
      margin:0; background:linear-gradient(180deg,#0b0c0f 0%, #0f1115 100%);
      color:#e6eef8; display:flex; align-items:center; justify-content:center; padding:40px;
    }
    .wrap{width:100%; max-width:var(--max-width);} 

    header{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px}
    h1{font-size:18px;margin:0;color:#fff;font-weight:600}
    p.lead{margin:0;color:var(--muted);font-size:13px}

    /* Grid */
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:var(--gap)}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.03));border-radius:var(--radius);overflow:hidden;cursor:pointer;position:relative;display:flex;flex-direction:column}
    .thumb{display:block;width:100%;height:0;padding-bottom:66%;background-size:cover;background-position:center;transition:transform .35s ease}
    .card:hover .thumb{transform:scale(1.04)}
    .meta{padding:12px 14px}
    .title{font-size:14px;margin:0 0 6px 0;color:#fff}
    .desc{margin:0;color:var(--muted);font-size:12px;line-height:1.3}

    /* Modal / Lightbox */
    .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;padding:28px;z-index:60}
    .modal.show{display:flex}
    .backdrop{position:absolute;inset:0;background:rgba(3,6,10,0.7);backdrop-filter:blur(6px)}
    .viewer{position:relative;z-index:2;max-width:100%;width:100%;max-height:90vh;background:var(--card);border-radius:14px;box-shadow:0 8px 30px rgba(2,6,20,0.7);overflow:hidden;display:grid;grid-template-columns:1fr 360px}
    .viewer .imgwrap{min-width:0;background:#000;display:flex;align-items:center;justify-content:center}
    .viewer img{max-width:100%;max-height:90vh;object-fit:contain;display:block}
    .panel{padding:18px 16px;color:var(--muted);font-size:14px}
    .panel h2{margin:0 0 8px 0;color:#fff;font-size:16px}
    .panel p{margin:0 0 12px 0}
    .controls{display:flex;gap:8px;align-items:center}
    .btn{background:none;border:1px solid rgba(255,255,255,0.06);padding:8px 10px;border-radius:8px;color:var(--muted);font-size:13px;cursor:pointer}
    .btn:focus{outline:2px solid rgba(159,183,255,0.18)}

    /* Navigation arrows */
    .arrow{position:absolute;top:50%;transform:translateY(-50%);width:44px;height:44px;border-radius:50%;display:flex;align-items:center;justify-content:center;z-index:3;background:rgba(0,0,0,0.35);backdrop-filter:blur(4px);cursor:pointer}
    .arrow.left{left:18px}
    .arrow.right{right:18px}
    .arrow svg{width:18px;height:18px;opacity:0.9}

    @media (max-width:880px){
      .viewer{grid-template-columns:1fr;}
      .panel{padding:12px}
    }

    /* tiny helper for captions on cards */
    .card .caption{position:absolute;left:12px;bottom:12px;background:linear-gradient(90deg,rgba(0,0,0,0.45),rgba(0,0,0,0.25));padding:6px 10px;border-radius:10px;font-size:12px;color:#fff}
  </style>
</head>
<body>
  <div class="wrap" id="app">
    <header>
      <h1>Minimal Gallery</h1>
      <p class="lead">Click an image to open — keyboard ← → and Esc supported</p>
    </header>

    <main>
      <div class="grid" id="grid"></div>
    </main>
  </div>

  <!-- modal -->
  <div class="modal" id="modal" aria-hidden="true">
    <div class="backdrop" id="backdrop"></div>

    <div class="arrow left" id="prevBtn" title="Previous" aria-hidden="true">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 18l-6-6 6-6"/></svg>
    </div>
    <div class="arrow right" id="nextBtn" title="Next" aria-hidden="true">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 6l6 6-6 6"/></svg>
    </div>

    <div class="viewer" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div class="imgwrap" id="imgwrap">
        <img id="modalImg" alt="" loading="lazy">
      </div>
      <aside class="panel">
        <h2 id="modalTitle">Title</h2>
        <p id="modalDesc">Description</p>
        <div class="controls">
          <button class="btn" id="closeBtn">Close (Esc)</button>
          <button class="btn" id="downloadBtn">Download</button>
        </div>
      </aside>
    </div>
  </div>

  <script>
    // Sample data: replace with your own image URLs and descriptions
    const galleryData = [
      {id:1, src:'https://picsum.photos/id/1018/1600/1000', thumb:'https://picsum.photos/id/1018/800/500', title:'Cliff at Sunset', description:'A calm sea and warm sunset behind rocky cliffs.'},
      {id:2, src:'https://picsum.photos/id/1025/1600/1000', thumb:'https://picsum.photos/id/1025/800/500', title:'Majestic Horse', description:'Portrait of a horse in natural light.'},
      {id:3, src:'https://picsum.photos/id/1035/1600/1000', thumb:'https://picsum.photos/id/1035/800/500', title:'Foggy Pines', description:'Pine trees hidden in the morning fog.'},
      {id:4, src:'https://picsum.photos/id/1043/1600/1000', thumb:'https://picsum.photos/id/1043/800/500', title:'Desert Road', description:'Lonely road crossing an endless desert plain.'},
      {id:5, src:'https://picsum.photos/id/1059/1600/1000', thumb:'https://picsum.photos/id/1059/800/500', title:'City at Night', description:'City lights reflected in a wet street.'}
    ];

    const grid = document.getElementById('grid');
    const modal = document.getElementById('modal');
    const modalImg = document.getElementById('modalImg');
    const modalTitle = document.getElementById('modalTitle');
    const modalDesc = document.getElementById('modalDesc');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const closeBtn = document.getElementById('closeBtn');
    const downloadBtn = document.getElementById('downloadBtn');
    const backdrop = document.getElementById('backdrop');

    let currentIndex = 0;

    function renderGrid(){
      grid.innerHTML = '';
      galleryData.forEach((item, i)=>{
        const card = document.createElement('article');
        card.className = 'card';
        card.tabIndex = 0;
        card.setAttribute('role','button');
        card.setAttribute('aria-label', item.title + ' — ' + item.description);

        const thumb = document.createElement('div');
        thumb.className = 'thumb';
        thumb.style.backgroundImage = `url(${item.thumb})`;

        const caption = document.createElement('div');
        caption.className = 'caption';
        caption.textContent = item.title;

        const meta = document.createElement('div');
        meta.className = 'meta';
        meta.innerHTML = `<h3 class="title">${escapeHtml(item.title)}</h3><p class="desc">${escapeHtml(item.description)}</p>`;

        card.appendChild(thumb);
        card.appendChild(caption);
        card.appendChild(meta);

        card.addEventListener('click', ()=>openModal(i));
        card.addEventListener('keydown', (e)=>{ if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); openModal(i); } });

        grid.appendChild(card);
      });
    }

    function openModal(index){
      currentIndex = index;
      const item = galleryData[currentIndex];
      modalImg.src = item.src;
      modalImg.alt = item.title;
      modalTitle.textContent = item.title;
      modalDesc.textContent = item.description;
      downloadBtn.onclick = ()=>downloadImage(item.src, item.title.replace(/\s+/g,'_') + '.jpg');

      modal.classList.add('show');
      modal.setAttribute('aria-hidden','false');
      document.body.style.overflow = 'hidden';
    }

    function closeModal(){
      modal.classList.remove('show');
      modal.setAttribute('aria-hidden','true');
      document.body.style.overflow = '';
      modalImg.src = '';
    }

    function showNext(delta=1){
      currentIndex = (currentIndex + delta + galleryData.length) % galleryData.length;
      openModal(currentIndex);
    }

    function downloadImage(url, filename){
      // simple download trigger
      fetch(url).then(r=>r.blob()).then(blob=>{
        const link = document.createElement('a');
        link.href = URL.createObjectURL(blob);
        link.download = filename;
        document.body.appendChild(link);
        link.click();
        link.remove();
      }).catch(()=>{ alert('Download failed'); });
    }

    // small helper to escape content inserted into DOM
    function escapeHtml(s){ return String(s).replace(/[&"'<>]/g, c=>({ '&':'&amp;','"':'&quot;',"'":"&#39;",'<':'&lt;','>':'&gt;' })[c]); }

    // Controls
    prevBtn.addEventListener('click', ()=>showNext(-1));
    nextBtn.addEventListener('click', ()=>showNext(1));
    closeBtn.addEventListener('click', closeModal);
    backdrop.addEventListener('click', closeModal);

    // keyboard navigation
    window.addEventListener('keydown', (e)=>{
      if(modal.classList.contains('show')){
        if(e.key === 'ArrowRight') showNext(1);
        if(e.key === 'ArrowLeft') showNext(-1);
        if(e.key === 'Escape') closeModal();
      }
    });

    // initial render
    renderGrid();

    // expose a simple API for dynamic changes (optional)
    window.MINIMAL_GALLERY = {
      add(item){ galleryData.push(item); renderGrid(); },
      remove(index){ galleryData.splice(index,1); renderGrid(); },
      open(index){ openModal(index); }
    };
  </script>
</body>
</html>